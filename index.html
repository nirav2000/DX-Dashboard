<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous">
</script>

<canvas id="canvas"></canvas>

<script>
var jsonfile;
var dataNextVol= 'https://dutchx-rinkeby.d.exchange/api/v1/markets/WETH-RDN/sell-volume-next';
var dataurl = 'https://dutchx-rinkeby.d.exchange/api/v1/auctions/cleared?';//https://dutchx-rinkeby.d.exchange/api/v1/markets/WETH-RDN/sell-volume';
//https://nirav2000.github.io/DX-Dashboard/JSON.json
function c8chart (params) {
$.getJSON(dataurl +params, function(jdata) {
    }).done(function(jdata) {
        console.log(jdata);
        var labels = jdata.map(function(e) {

            return e.buyToken;
            });
        var data = jdata.map(function(e) {
            return e.buyVolume;
            });

        var ctx = canvas.getContext('2d');
        var config = {
        type: 'line',
        data: {
            labels: labels,
            datasets: [{
                label: 'Graph Line',
                data: data,
                backgroundColor: 'rgba(0, 119, 204, 0.3)'
            }]
        }
         };
        
        var chart = new Chart(ctx, config);

  })
  .fail(function(
    jqxhr, textStatus, error ) {
    var err = textStatus + ", " + error;
    console.log( "Request Failed: " + err );
    console.log( "error" );
  });
}


c8chart("period=today&tokenPair=WETH-RDN");
</script>

